<%= form_with url: edamam_index_path, method: :get do %>
  <div>
    <%= text_field_tag 'search[title]', params.dig(:search, :title) %>
  </div>

  <section>
    <h4>Allergies</h4>
    <% allergies = %w[alcohol-free celery-free crustacean-free dairy-free egg-free fish-free gluten-free lupine-free mustard-free peanut-free sesame-free shellfish-free soy-free tree-nut-free wheat-free] %>
    <% allergies.each do |allergy| %>
      <div>
        <%= label_tag "search[allergies][#{allergy}]", allergy.humanize %>
        <%= check_box_tag "search[allergies][#{allergy}]", '1', params.dig(:search, :allergies, allergy) == '1' %>
      </div>
    <% end %>
  </section>

  <div>
    <h4>Cuisine Type:</h4>
    <%= select_tag 'search[cuisine_type]', options_for_select([
        ["--", ""],
        "American", "Asian", "British", "Caribbean", "Central Europe", "Eastern Europe",
        "Chinese", "Japanese", "French", "Indian", "Italian", "Kosher",
        "Mediterranean", "Mexican", "Middle Eastern", "Nordic", "South American", "South East Asian"
    ], params.dig(:search, :cuisine_type)) %>
  </div>

  <div>
    <%= submit_tag "Search" %>
  </div>
<% end %>
